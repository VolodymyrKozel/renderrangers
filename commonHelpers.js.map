{"version":3,"file":"commonHelpers.js","sources":["../src/js/Api/uBooksApi.js","../src/js/category-card.js","../src/js/top-sellers.js","../src/js/category-list.js","../src/db/supportList.js","../src/js/helpers/scrollSection.js","../src/js/support-section.js","../src/js/modal.js","../src/js/header.js"],"sourcesContent":["import axios from 'axios';\n\nconst baseUrl = 'https://books-backend.p.goit.global/books/';\n\nexport async function getDataBooks(endPoint, paramsRequest) {\n  try {\n    const response = await axios.get(baseUrl + endPoint, {\n      params: paramsRequest,\n    });\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n/* Hardcover Nonfiction */\n/* const par = {\n  category: 'Hardcover Nonfiction',\n};\ngetDataBooks('category', par); */\n","console.log('category-card');\nimport { getDataBooks } from './Api/uBooksApi';\nimport renderMarkup from './helpers/renderMarkup';\nimport { refs } from './refs';\n\n// Function to fetch and display category books\nexport const getCategoryBooks = async params => {\n  // Clear the container before inserting new category data\n  refs.categoryCardElem.innerHTML = '';\n  refs.topSellerSection.innerHTML = '';\n  try {\n    // Fetch category books data from the server\n    const categoryBooks = await getDataBooks('category', params);\n\n    // Remove existing category title if it exists\n    const existingCategoryTitle = refs.categoryCardElem.querySelector(\n      '.category-card-title'\n    );\n    if (existingCategoryTitle) {\n      existingCategoryTitle.remove();\n    }\n\n    // Insert the category name on the page\n    const categoryName = categoryBooks[0].list_name;\n\n    document.querySelectorAll('.category-card-title').forEach(element => {\n      element.remove();\n    });\n\n    refs.categoryCardElem.insertAdjacentHTML(\n      'beforebegin',\n      booksCategoryTemplate(categoryName)\n    );\n\n    // Insert the list of books on the page\n    renderMarkup(booksTemplate, refs.categoryCardElem, categoryBooks);\n  } catch (error) {\n    console.error('Error fetching category books:', error);\n  }\n};\n\n// Function to create markup for the category name\nfunction booksCategoryTemplate(catTitle) {\n  return `\n      <h2 class=\"category-card-title\">${catTitle}</h2>\n    `;\n}\n\n// Function to create markup for a single book\nfunction booksTemplate({ book_image, title, author, _id }) {\n  return `\n      <li class=\"card-book-item\" data-id=\"${_id}\">\n        <img class=\"card-book-image\"\n        src=\"${book_image}\"\n        alt=\"${title}\"\n        width=\"335\"\n        height=\"485\">\n        <h3 class=\"card-book-title\">${title}</h3>\n        <p class=\"card-book-author\">${author}</p>\n      </li>\n    `;\n}\n","import { getDataBooks } from './Api/uBooksApi';\n\nconst booksList = document.getElementById('books-list');\n\n// отримання даних з серверу\nexport const getTopBooksData = async () => {\n  //run loading написати загрузку\n\n  try {\n    const topBooks = await getDataBooks('top-books'); // запит на сервер\n    const randomBooks = getRandomBooks(topBooks, 4); // вибираємо 4 випадкові книги\n    renderTopBooks(randomBooks); // рендер розмітки\n  } catch (err) {\n    console.error(err);\n  } finally {\n    // ховаємо лоадер\n  }\n};\n\ngetTopBooksData();\n\n//  функція для рандомного вибору 4 категорій з масиву книг\nfunction getRandomBooks(books, count) {\n  const randomIndexes = [];\n\n  while (randomIndexes.length < count) {\n    const randomIndex = Math.floor(Math.random() * books.length);\n    if (!randomIndexes.includes(randomIndex)) {\n      randomIndexes.push(randomIndex);\n    }\n  }\n\n  return randomIndexes.map(index => books[index]);\n}\n\n// рендер сторінки\nfunction renderTopBooks(topBooks) {\n  const fragment = createMarkUp(topBooks);\n  booksList.innerHTML = ''; // очищення вмісту перед додаванням нового\n  booksList.appendChild(fragment); // додавання фрагменту до DOM\n}\n\n// створення розмітки категорій книг\nfunction createMarkUp(results) {\n  const fragment = document.createDocumentFragment();\n\n  results.forEach(({ list_name, books }) => {\n    const li = document.createElement('li');\n    li.className = 'sellers-category';\n    li.innerHTML = `\n      <h2 class=\"sellers-category-title\">${list_name}</h2>\n      <ul class=\"sellers-category-list\">\n        ${generateListItems(books)}\n      </ul>\n      <button class=\"sellers-button\" type=\"button\">see more</button>\n    `;\n    fragment.appendChild(li);\n  });\n\n  return fragment;\n}\n\n// створення розмітки однієї книги\nfunction generateListItems(books) {\n  let items = '';\n  const screenSize = getScreenSize(); // визначення розміру екрану\n  const maxItems =\n    screenSize === 'desktop' ? 5 : screenSize === 'tablet' ? 3 : 1; // визначення кількості айтемів\n\n  for (let i = 0; i < maxItems && i < books.length; i++) {\n    const { book_image, title, author, _id } = books[i];\n    items += `\n      <li class=\"sellers-item\" data-id=\"${_id}\">\n        <div class=\"book-image-wrapper\">\n          <img class=\"book-image\"\n          src=\"${book_image}\"\n          alt=\"${title}\"\n          >\n        </div>\n        <h3 class=\"book-title\">${title}</h3>\n        <p class=\"book-author\">${author}</p>\n      </li>\n    `;\n  }\n\n  return items;\n}\n\n// визначення розмірів екрану\nfunction getScreenSize() {\n  const screenWidth = window.innerWidth;\n  if (screenWidth < 768) {\n    return 'mobile';\n  } else if (screenWidth < 1200) {\n    return 'tablet';\n  } else {\n    return 'desktop';\n  }\n}\n\n// визначення кількості елементів залежно від розміру екрану\nfunction getBooksCountByScreenSize(screenSize) {\n  switch (screenSize) {\n    case 'mobile':\n      return 1; // один елемент на мобільному\n    case 'tablet':\n      return 3; // три елементи на планшеті\n    case 'desktop':\n    default:\n      return 5; // п'ять елементів на десктопі\n  }\n}\n","import { refs } from './refs';\nimport { getDataBooks } from './Api/uBooksApi';\nimport { getCategoryBooks } from './category-card';\nimport { getTopBooksData } from './top-sellers';\n\nrefs.categoryListElem.addEventListener('click', selectedCategory);\n\nfunction selectedCategory(e) {\n  if (e.target.nodeName !== 'BUTTON' || e.target.classList.contains('active')) {\n    return; // користувач клікнув між кнопками\n  }\n  refs.categoryListElem.querySelector('.active').classList.remove('active');\n  const categoryName = e.target;\n  categoryName.classList.add('active');\n  if (categoryName.textContent === 'ALL CATEGORIES') {\n    // create function where using method foreach remove active\n    //then add class active for button\n    //use localstorage for saving active item\n    getTopBooksData();\n  } else {\n    getCategoryBooks({ category: categoryName.textContent });\n  }\n}\nfunction categoryTemplate({ list_name, classButton = '' }) {\n  return `<li class=\"category-list\">\n      <button class=\"category-button ${classButton}\" type=\"button\">${list_name}</button>\n    </li>`;\n}\nfunction categoriesTemplate(categoryList) {\n  return categoryList.map(categoryTemplate).join('');\n}\nfunction renderCategories(categoryList) {\n  const markup = categoriesTemplate(categoryList);\n\n  refs.categoryListElem.insertAdjacentHTML('beforeend', markup);\n}\n\n//aсинхронна функція чекає на відповідь з сервера\nconst getData = async () => {\n  //run loading написати загрузку\n\n  // чекаємо на дані\n  const cat = await getDataBooks('category-list');\n  cat.unshift({ list_name: 'ALL CATEGORIES', classButton: 'active' });\n  // малюємо дані на сторінці\n  renderCategories(cat);\n};\ngetData();\n","export const supportList = [\n  {\n    title: 'Save the Children',\n    url: 'https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis',\n    img: 'stc',\n  },\n  {\n    title: 'Project HOPE',\n    url: 'https://www.projecthope.org/country/ukraine/',\n    img: 'hope',\n  },\n  {\n    title: 'UNITED24',\n    url: 'https://u24.gov.ua/uk',\n    img: 'u24',\n  },\n  {\n    title: 'International Medical Corps',\n    url: 'https://internationalmedicalcorps.org/country/ukraine/',\n    img: 'imc',\n  },\n  {\n    title: 'Medicins Sans Frontieres',\n    url: 'https://www.msf.org/ukraine',\n    img: 'msf',\n  },\n  {\n    title: 'RAZOM',\n    url: 'https://www.razomforukraine.org/',\n    img: 'razom',\n  },\n  {\n    title: 'Action against hunger',\n    url: 'https://www.actionagainsthunger.org/location/europe/ukraine/',\n    img: 'aah',\n  },\n  {\n    title: 'World vision',\n    url: 'https://www.wvi.org/emergencies/ukraine',\n    img: 'wv',\n  },\n  {\n    title: 'Serhiy Prytula Charity Foundation',\n    url: 'https://prytulafoundation.org/en',\n    img: 'prytula',\n  },\n];\n","// Прокручує контейнер вгору чи вниз на основі класу перемикання.\n// @param {HTMLElement} btnRefs - Елемент кнопки, який викликає прокрутку.\n// @param {HTMLElement} containerRefs - Елемент контейнера, який потрібно прокрутити.\n// @param {string} toggleClass - Клас, який використовується для перемикання поведінки прокрутки.\n\nexport default function scrollContainer(btnRefs, containerRefs, toggleClass) {\n  // Перемикає вказаний клас на елементі кнопки\n  btnRefs.classList.toggle(toggleClass);\n\n  // Перевіряє, чи присутній клас перемикання\n  if (btnRefs.classList.contains(toggleClass)) {\n    // Якщо клас перемикання присутній, прокручує контейнер до кінця\n    containerRefs.scrollTop = containerRefs.scrollHeight;\n  } else {\n    // Якщо клас перемикання не присутній, прокручує контейнер до початку\n    containerRefs.scrollTop = 0;\n  }\n}\n","import { supportList } from '../db/supportList';\nimport renderMarkup from './helpers/renderMarkup';\nimport scrollContainer from './helpers/scrollSection';\nimport { refs } from './refs';\n// handle button click\nrefs.scrollBtn.addEventListener('click', () =>\n  scrollContainer(refs.scrollBtn, refs.supportList, 'isDown')\n);\n// малюємо дані на сторінці\nrenderMarkup(supportTemplate, refs.supportList, supportList);\nfunction supportTemplate(item) {\n  //що там в item\n  const { title, url, img } = item;\n  return `\n    <li class=\"support-item\">\n      <a\n        class=\"support-link\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        arial-label=\"${title}\"\n        href=\"${url}\"\n      >\n        <img class=\"support-img\" src=\"./img/support/${img}.png\" alt=\"${title}\" />\n      </a>\n    </li>`;\n}\n","console.log('pop up');\n","const checkboxInput = document.querySelector('.checkbox-input');\nconst body = document.body;\n\ncheckboxInput.addEventListener('change', function () {\n  if (checkboxInput.checked) {\n    body.classList.add('dark-theme');\n    localStorage.setItem('theme', 'dark-theme');\n  } else {\n    body.classList.remove('dark-theme');\n    localStorage.setItem('theme', '');\n  }\n});\nwindow.onload = setActive;\nfunction setActive() {\n  let theme = localStorage.getItem('theme');\n  if (theme === 'dark-theme') {\n    body.classList.add(theme);\n    checkboxInput.checked = true;\n  }\n  const aObj = document.querySelector('.header-nav').getElementsByTagName('a');\n  for (let i = 0; i < aObj.length; i++) {\n    if (document.location.href.indexOf(aObj[i].href) >= 0) {\n      aObj[i].classList.add('active');\n      console.log(document.location.href);\n    }\n  }\n}\n\n/* const burgerMenuBtn = document.querySelector('.burger-menu-btn');\nconst closeMenuBtn = document.querySelector('.close-menu-btn');\nconst headerNav = document.querySelector('.header-nav');\n\nburgerMenuBtn.addEventListener('click', function () {\n  burgerMenuBtn.classList.add('is-hidden');\n  closeMenuBtn.classList.remove('is-hidden');\n\n  headerNav.style.display = 'flex';\n});\n\ncloseMenuBtn.addEventListener('click', function () {\n  burgerMenuBtn.classList.remove('is-hidden');\n  closeMenuBtn.classList.add('is-hidden');\n\n  headerNav.style.display = 'none';\n}); */\n"],"names":["baseUrl","getDataBooks","endPoint","paramsRequest","axios","error","getCategoryBooks","params","refs","categoryBooks","existingCategoryTitle","categoryName","element","booksCategoryTemplate","renderMarkup","booksTemplate","catTitle","book_image","title","author","_id","booksList","getTopBooksData","topBooks","randomBooks","getRandomBooks","renderTopBooks","err","books","count","randomIndexes","randomIndex","index","fragment","createMarkUp","results","list_name","li","generateListItems","items","screenSize","getScreenSize","maxItems","i","screenWidth","selectedCategory","e","categoryTemplate","classButton","categoriesTemplate","categoryList","renderCategories","markup","getData","cat","supportList","scrollContainer","btnRefs","containerRefs","toggleClass","supportTemplate","item","url","img","checkboxInput","body","setActive","theme","aObj"],"mappings":"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"}