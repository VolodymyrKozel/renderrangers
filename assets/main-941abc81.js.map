{"version":3,"file":"main-941abc81.js","sources":["../../src/js/refs.js","../../src/js/booksApi.js","../../src/js/category-list.js"],"sourcesContent":["export const refs = {\n  /* Після створкння розмітки тут прописуємо свії посилання на елементи в котрі буде вставлятись розмітка */\n\n  categoryListElem: document.querySelector('.js-category-list'),\n  /* btnLoadMore: document.querySelector('.js-btn-load'),\n  loadElem: document.querySelector('.js-loader'), */\n};\n","import axios from 'axios';\n\nconst baseUrl = 'https://books-backend.p.goit.global/books/';\n\nexport async function getCategoryList() {\n  try {\n    const response = await axios.get(`${baseUrl}category-list`);\n    console.log(response.data);\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n}\nexport async function getTopBooks() {\n  try {\n    const response = await axios.get(`${baseUrl}top-books`);\n    console.log(response.data);\n    return await response.data;\n  } catch (error) {\n    console.log(error);\n  }\n}\nexport async function getCategory(category) {\n  try {\n    const response = await axios.get(`${baseUrl}category?category=${category}`);\n    console.log(response.data);\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n}\nexport async function getBookById(id) {\n  try {\n    const response = await axios.get(`${baseUrl}/${id}`);\n    console.log(response.data);\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n/* how to use */\n/* import { getCategoryList, getCategory } from './booksApi'; */\n/* getCategoryList(); */\n/* getTopBooks(); */\n/* getBookById('643282b1e85766588626a0dc'); */\n/* getCategory('Audio Fiction'); */\n","import { refs } from './refs';\nimport { getCategoryList, getCategory } from './booksApi';\n\nrefs.categoryListElem.addEventListener('click', selectedCategory);\n\nfunction selectedCategory(e) {\n  if (e.target.nodeName !== 'BUTTON') {\n    return; // користувач клікнув між кнопками\n  }\n  const categoryName = e.target;\n  categoryName.classList.add('active');\n  if (\n    categoryName.textContent === 'ALL CATEGORIES' &&\n    !categoryName.classList.contains('active')\n  ) {\n    // create function where using method foreach remove active\n    //then add class active for button\n    //use localstorage for saving active item\n    getData();\n  }\n  console.log(refs.categoryListElem.childNodes);\n  // use function for remove class\n  //add class active\n  console.log(getCategory(categoryName));\n}\n\nfunction categoryTemplate({ list_name }) {\n  return `<li class=\"category-list\">\n      <button class=\"category-button\" type=\"button\">${list_name}</button>\n    </li>`;\n}\nfunction categoriesTemplate(categoryList) {\n  return categoryList.map(categoryTemplate).join('');\n}\nfunction renderCategories(categoryList) {\n  const markup = categoriesTemplate(categoryList);\n\n  refs.categoryListElem.insertAdjacentHTML('beforeend', markup);\n}\n//aсинхронна функція чекає на відповідь з сервера\nconst getData = async () => {\n  //run loading написати загрузку\n\n  // чекаємо на дані\n  const cat = await getCategoryList();\n  cat.unshift({ list_name: 'ALL CATEGORIES' });\n  // малюємо дані на сторінці\n  renderCategories(cat);\n};\ngetData();\n"],"names":["refs","baseUrl","getCategoryList","response","axios","error","getCategory","category","selectedCategory","categoryName","getData","categoryTemplate","list_name","categoriesTemplate","categoryList","renderCategories","markup","cat"],"mappings":"0uBAAO,MAAMA,EAAO,CAGlB,iBAAkB,SAAS,cAAc,mBAAmB,CAG9D,ECJMC,EAAU,6CAET,eAAeC,GAAkB,CACtC,GAAI,CACF,MAAMC,EAAW,MAAMC,EAAM,IAAI,GAAGH,CAAO,eAAe,EAC1D,eAAQ,IAAIE,EAAS,IAAI,EAClBA,EAAS,IACjB,OAAQE,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,CAUO,eAAeC,EAAYC,EAAU,CAC1C,GAAI,CACF,MAAMJ,EAAW,MAAMC,EAAM,IAAI,GAAGH,CAAO,qBAAqBM,CAAQ,EAAE,EAC1E,eAAQ,IAAIJ,EAAS,IAAI,EAClBA,EAAS,IACjB,OAAQE,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,CC3BAL,EAAK,iBAAiB,iBAAiB,QAASQ,CAAgB,EAEhE,SAASA,EAAiB,EAAG,CAC3B,GAAI,EAAE,OAAO,WAAa,SACxB,OAEF,MAAMC,EAAe,EAAE,OACvBA,EAAa,UAAU,IAAI,QAAQ,EAEjCA,EAAa,cAAgB,kBAC7B,CAACA,EAAa,UAAU,SAAS,QAAQ,GAKzCC,IAEF,QAAQ,IAAIV,EAAK,iBAAiB,UAAU,EAG5C,QAAQ,IAAIM,EAAYG,CAAY,CAAC,CACvC,CAEA,SAASE,EAAiB,CAAE,UAAAC,GAAa,CACvC,MAAO;AAAA,sDAC6CA,CAAS;AAAA,UAE/D,CACA,SAASC,EAAmBC,EAAc,CACxC,OAAOA,EAAa,IAAIH,CAAgB,EAAE,KAAK,EAAE,CACnD,CACA,SAASI,EAAiBD,EAAc,CACtC,MAAME,EAASH,EAAmBC,CAAY,EAE9Cd,EAAK,iBAAiB,mBAAmB,YAAagB,CAAM,CAC9D,CAEA,MAAMN,EAAU,SAAY,CAI1B,MAAMO,EAAM,MAAMf,IAClBe,EAAI,QAAQ,CAAE,UAAW,gBAAkB,CAAA,EAE3CF,EAAiBE,CAAG,CACtB,EACAP,EAAS"}