{"version":3,"file":"commonHelpers2.js","sources":["../src/js/helpers/localStorageHelper.js","../src/js/shopping-list.js"],"sourcesContent":["/**\n * Об'єкт-утиліта для взаємодії з локальним сховищем браузера.\n */\nconst LocalStorage = {\n  /**\n   * Визначає, чи підтримує браузер локальне сховище.\n   *\n   * @return {boolean}\n   */\n  isSupported() {\n    return typeof Storage !== 'undefined';\n  },\n\n  /**\n   * Перевіряє, чи існує ключ у локальному сховищі.\n   *\n   * @param {string} key\n   * @return {boolean}\n   */\n  has(key) {\n    return localStorage.hasOwnProperty(key);\n  },\n\n  /**\n   * Отримує значення з локального сховища за ключем.\n   *\n   * @param {string} key\n   * @return {any}\n   */\n  get(key) {\n    let item = localStorage.getItem(key);\n\n    if (typeof item !== 'string') return item;\n\n    if (item === 'undefined') return undefined;\n\n    if (item === 'null') return null;\n\n    // Перевірка для чисел і десяткових дробів\n    if (/^'-?\\d{1,}?\\.?\\d{1,}'$/.test(item)) return Number(item);\n\n    // Перевірка для чисел у науковій нотації\n    if (/^'-?\\d{1}\\.\\d+e\\+\\d{2}'$/.test(item)) return Number(item);\n\n    // Перевірка для серіалізованих об'єктів та масивів\n    if (item[0] === '{' || item[0] === '[') return JSON.parse(item);\n\n    return item;\n  },\n\n  /**\n   * Зберігає значення в локальному сховищі за ключем.\n   *\n   * @param {string} key\n   * @param {any} value\n   * @return {void}\n   */\n  set(key, value) {\n    if (typeof key !== 'string') {\n      throw new TypeError(\n        `localStorage: Ключ повинен бути рядком. (зчитування '${key}')`\n      );\n    }\n\n    if (typeof value === 'object' || Array.isArray(value)) {\n      value = JSON.stringify(value);\n    }\n\n    localStorage.setItem(key, value);\n  },\n\n  /**\n   * Видаляє елемент з локального сховища за ключем.\n   *\n   * @param {string} key\n   * @return {void}\n   */\n  remove(key) {\n    localStorage.removeItem(key);\n  },\n};\n\nexport default LocalStorage;\n","import LS from './helpers/localStorageHelper';\nimport renderMarkup from './helpers/renderMarkup';\n\nimport { getDataBooks } from './Api/uBooksApi';\nimport { refs } from './refs';\nLS.remove('cart1');\n//aсинхронна функція чекає на відповідь з сервера\nexport const getCategoryBooks = async () => {\n  //run loading написати загрузку\n\n  // чекаємо на дані\n  const book = await getDataBooks('643282b1e85766588626a0b2');\n  // малюємо дані на сторінці\n  const books = [];\n  books.push(book);\n  LS.set('cart', books);\n\n  /*   refs.categoryCardElem.insertAdjacentHTML(\n    'beforebegin',\n    booksCategoryTemplate(categoryBooks[0].list_name)\n  );\n  renderMarkup(booksTemplate, refs.categoryCardElem, categoryBooks); */\n};\ngetCategoryBooks();\n/* LS.set(key, value);\nLS.get(key);\n cart*/\n\nif (LS.has('cart')) {\n  const localstorageItem = LS.get('cart');\n  console.log(localstorageItem[0]);\n  renderMarkup(templateList, refs.shoppingListMain, LS.get('cart'));\n} else {\n  renderMarkup(templateEmpty);\n}\nfunction templateEmpty(book) {\n  console.log(book);\n  return `<section class=\"shopping-list\">\n        <h1 class=\"shopping-list-text\">\n          Shopping <span class=\"shopping-list-span\">List</span>\n        </h1>\n        <div class=\"shopping-list-container\">\n          <p class=\"shopping-list-container-text\">\n            This page is empty, add some books <br />\n            and proceed to order.\n          </p>\n        </div>\n      </section>`;\n}\n\nfunction templateList(book) {\n  console.log(book);\n  return `<section class=\"shopping-list\">\n        <h2 class=\"shopping-list-text\">\n          Shopping <span class=\"shopping-list-span\">List</span>\n        </h2>\n        <div class=\"shopping-list-container\">\n        <ul class=\"shopping-list\">\n  <li class=\"shopping-item\">\n    <img class=\"shopping-img\" src=\"${book_image}\" alt=\"${title}\" width=\"100\" height=\"142\" />\n    <svg class=\"header-logo-icon-bookshelf\" width=\"12\" height=\"12\">\n      <use href=\"./img/icons/icons.svg#icon-bookshelf\"></use>\n    </svg>\n    <h2 class=\"shopping-item-title\">${title}</h2>\n    <p class=\"shopping-category-title\">${list_name}</p>\n    <p class=\"shopping-desc\"></p>\n    <p class=\"shopping-autor\"></p>\n    <ul class=\"shopping-shop-list\">\n      <li class=\"shopping-shop-item\">\n        <a class=\"shopping-shop-link\" href=\"\">\n          <svg class=\"header-logo-icon-bookshelf\" width=\"77\" height=\"14\">\n            <use href=\"./img/icons/icons.svg#icon-amazon\"></use>\n          </svg>\n        </a>\n        <a class=\"shopping-shop-link\" href=\"\">\n          <svg class=\"header-logo-icon-bookshelf\" width=\"77\" height=\"14\">\n            <use href=\"./img/icons/icons.svg#icon-amazon\"></use>\n          </svg>\n        </a>\n      </li>\n    </ul>\n  </li>\n</ul>\n        </div>\n      </section>`;\n}\n"],"names":["LocalStorage","key","item","value","LS","getCategoryBooks","book","getDataBooks","books","localstorageItem","renderMarkup","templateList","refs","templateEmpty"],"mappings":"wGAGA,MAAMA,EAAe,CAMnB,aAAc,CACZ,OAAO,OAAO,QAAY,GAC3B,EAQD,IAAIC,EAAK,CACP,OAAO,aAAa,eAAeA,CAAG,CACvC,EAQD,IAAIA,EAAK,CACP,IAAIC,EAAO,aAAa,QAAQD,CAAG,EAEnC,GAAI,OAAOC,GAAS,SAAU,OAAOA,EAErC,GAAIA,IAAS,YAEb,OAAIA,IAAS,OAAe,KAGxB,yBAAyB,KAAKA,CAAI,GAGlC,2BAA2B,KAAKA,CAAI,EAAU,OAAOA,CAAI,EAGzDA,EAAK,CAAC,IAAM,KAAOA,EAAK,CAAC,IAAM,IAAY,KAAK,MAAMA,CAAI,EAEvDA,CACR,EASD,IAAID,EAAKE,EAAO,CACd,GAAI,OAAOF,GAAQ,SACjB,MAAM,IAAI,UACR,wDAAwDA,CAAG,IACnE,GAGQ,OAAOE,GAAU,UAAY,MAAM,QAAQA,CAAK,KAClDA,EAAQ,KAAK,UAAUA,CAAK,GAG9B,aAAa,QAAQF,EAAKE,CAAK,CAChC,EAQD,OAAOF,EAAK,CACV,aAAa,WAAWA,CAAG,CAC5B,CACH,EC3EAG,EAAG,OAAO,OAAO,EAEV,MAAMC,EAAmB,SAAY,CAI1C,MAAMC,EAAO,MAAMC,EAAa,0BAA0B,EAEpDC,EAAQ,CAAA,EACdA,EAAM,KAAKF,CAAI,EACfF,EAAG,IAAI,OAAQI,CAAK,CAOtB,EACAH,IAKA,GAAID,EAAG,IAAI,MAAM,EAAG,CAClB,MAAMK,EAAmBL,EAAG,IAAI,MAAM,EACtC,QAAQ,IAAIK,EAAiB,CAAC,CAAC,EAC/BC,EAAaC,EAAcC,EAAK,iBAAkBR,EAAG,IAAI,MAAM,CAAC,CAClE,MACEM,EAAaG,CAAa,EAE5B,SAASA,EAAcP,EAAM,CAC3B,eAAQ,IAAIA,CAAI,EACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAWT,CAEA,SAASK,EAAaL,EAAM,CAC1B,eAAQ,IAAIA,CAAI,EACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAO4B,UAAU,UAAU,KAAK;AAAA;AAAA;AAAA;AAAA,sCAIxB,KAAK;AAAA,yCACF,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAqBlD"}